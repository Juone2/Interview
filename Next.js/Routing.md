## App Router

`app` 폴더를 기반으로 라우팅을 하기 때문에 앱 라우터라고 불린다. 리액트 서버 컴포넌트 기반으로 구성된 라우터이며 아래의 편의 기능을 제공합니다.

- 공용 레이아웃
- 중첩 라우팅
- 로딩 상태 제어
- 에러 처리

`app` 폴더 안에 컴포넌트 파일을 만들면 이 컴포넌트는 기본적으로 서버 컴포넌트가 된다.

→ `‘use client’` 를 사용하여 클라이언트 컴포넌트 생성 가능

## App Router 파일 컨벤션 및 역할

앱 라우터 폴더에는 다음 특정 파일들을 생성할 수 있다.

- `layout` : 공통 UI(레이아웃)를 배치하는 컴포넌트
- `page` : 특정 URL에 해당하는 페이지 컴포넌트. `page`라는 이름을 붙이면 해당 URL로 접근 가능
- `loading` : 해당 영역에 대한 로딩 컴포넌트
- `not-found` : 페이지를 찾을 수 없습니다(404)에 해당하는 에러 바운더리 컴포넌트
- `error` : 에러가 발생했을 때 에러 UI를 표시하는 에러 바운더리 컴포넌트
- `global-error` : 전역 에러 UI를 표시하는 에러 처리 컴포넌트
- `route` : API 엔드포인트로 취급되는 파일
- `template`: 레이아웃 컴포넌트가 다시 그려질 때 표시될 UI
- `default` : 병렬 라우팅 처리시 표시할 기본 UI

> 위 특정 파일들의 위계 표현
![image](https://github.com/Juone2/Interview/assets/103497968/12e36cb8-ffde-479d-8bdc-9947d332b4bf)
> 라우터 중첩 시키기
![image](https://github.com/Juone2/Interview/assets/103497968/266cddf9-d304-48a2-852e-049d23b62081)

## App Router 장점

앱 라우터의 장점은 `app` 폴더 밑에 라우터 파일 뿐만 아니라 라우터에서 사용될 파일들을 가까이 배치할 수 있는 장점이 있다.

- 리액트 컴포넌트 파일
- 라이브러리 파일
- API 파일

> 페이지 라우터에서 지원 X → `pages` 폴더 안에 들어간 컴포넌트 파일에 대해 모든 라우팅을 구성해주기 때문.
![image](https://github.com/Juone2/Interview/assets/103497968/dbbee3bf-6773-47d2-89cc-e6c0ea8375c9)


## 앱 라우터와 페이지 라우터의 가장 큰 차이점

앱 라우터는 같은 관심사를 최대한 가까이 배치할 수 있게 되었습니다. 페이지 라우터는

- `pages`, `layouts`, `components`, `libs`

등의 폴더가 항상 별도로 구성되어 있어 파일 간에 참조된 코드를 보느라 여기저기 뒤져야 하는 비용이 컸다. 

→ 반면에, 앱 라우터는 `app`이라는 폴더 안에 특정 라우팅과 관계된 페이지 컴포넌트 바로 옆에 필요한 

- `layouts`, `components`, `library` 파일들을 배치할 수 있게 되어 더 파일 배치가 쉬워졌다.
